Containerisation
================

Docker
------

Dockerfile



data containers --volumes-from

lxc (docker)
lxd (aws lambda)
https://github.com/p8952/bocker


`--squash`

https://dockersl.im/
https://github.com/docker-slim/
brew install docker-slim

https://ubuntu.com/blog/we-reduced-our-docker-images-by-60-with-no-install-recommends

apt-get purge   --auto-remove && \
apt-get clean

* [Running Docker Containers as Current Host User](https://jtreminio.com/blog/running-docker-containers-as-current-host-user/) - Making local development less aggravating
* [Best Practices Around Production Ready Web Apps with Docker Compose](https://nickjanetakis.com/blog/best-practices-around-production-ready-web-apps-with-docker-compose)
* [Optimizing Docker image size and why it matters](https://contains.dev/blog/optimizing-docker-image-size)

https://www.fromlatest.io/#/

https://medium.com/sciforce/strategies-of-docker-images-optimization-2ca9cc5719b6

Sharing build cache
https://medium.com/titansoft-engineering/docker-build-cache-sharing-on-multi-hosts-with-buildkit-and-buildx-eb8f7005918e
https://github.com/moby/buildkit

* [SubUser](https://subuser.org/)
    * Using docker containers to run applications with only dir level access

### Docker Commandline Helpers

```bash
alias docker_clean='docker volume rm $(docker volume ls -qf dangling=true) ; docker rm $(docker ps -q -f status=exited) ; docker rmi $(docker images -q -f dangling=true)'
alias docker_nuke='docker_rm_all ; docker rmi --force $(docker images -q -a) ; docker volume rm $(docker volume ls -qf dangling=true) ; docker network rm $(docker network ls -q)'
alias docker_ps='docker ps -a --format "{{.ID}}\t{{.Names}}"'
alias docker_rm_all='docker_stop_all ; docker rm $(docker ps -a -q) --force'
alias docker_rm_exited='docker ps -a | grep Exit | cut -d " " -f 1 | xargs docker rm'
alias docker_stop_all='docker stop $(docker ps -a -q)'
```

Podman
------

* Secure by default
* No Root level daemon

* [Migrating from Docker to Podman](https://marcusnoble.co.uk/2021-09-01-migrating-from-docker-to-podman/)

* [Will Nix Overtake Docker?](https://blog.replit.com/nix-vs-docker)
    * repl.it is moving from a single 30gb mega- container to a `nix` package pick and mix approach

---

* [The good things in the current age in tech](https://blog.kronis.dev/articles/the-good-things-in-the-current-age-in-tech)
    * [[containerisation]]
    * [[open-source]]

[//begin]: # "Autogenerated link references for markdown compatibility"
[containerisation]: containerisation.md "Containerisation"
[open-source]: open-source.md "Open Source"
[//end]: # "Autogenerated link references"